(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f088823a"],{"080e":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login"},[t("slider"),t("van-tabs",{model:{value:e.active,callback:function(s){e.active=s},expression:"active"}},[t("van-tab",{attrs:{title:e.$t("login[0]")}},[t("ul",{staticClass:"login_form"},[t("li",{staticClass:"username1"},[t("label",{class:{movename:e.loginusername}},[e._v(e._s(e.$t("login[2]")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username1,expression:"username1"}],staticClass:"button",attrs:{type:"text"},domProps:{value:e.username1},on:{focus:e.usernameFocus1,blur:e.usernameBlur1,input:function(s){s.target.composing||(e.username1=s.target.value)}}})]),t("li",{staticClass:"password1"},[t("label",{class:{movename:e.loginpassword}},[e._v(e._s(e.$t("login[3]")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password1,expression:"password1"}],staticClass:"button",attrs:{type:"password"},domProps:{value:e.password1},on:{focus:e.passwordFocus1,blur:e.passwordBlur1,input:function(s){s.target.composing||(e.password1=s.target.value)}}})]),t("li",{staticClass:"denglu_footer"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.isChecked,expression:"isChecked"}],staticClass:"regular-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isChecked)?e._i(e.isChecked,null)>-1:e.isChecked},on:{change:function(s){var t=e.isChecked,a=s.target,n=!!a.checked;if(Array.isArray(t)){var r=null,o=e._i(t,r);a.checked?o<0&&(e.isChecked=t.concat([r])):o>-1&&(e.isChecked=t.slice(0,o).concat(t.slice(o+1)))}else e.isChecked=n}}}),t("span",{staticClass:"rember"},[e._v(" "+e._s(e.$t("login[11]")))]),t("span",{staticClass:"forget",on:{click:e.forgetPassword}},[e._v(" "+e._s(e.$t("login[6]")))])]),t("li",[t("button",{on:{click:e.submit1}},[e._v(" "+e._s(e.$t("login[0]"))+" ")])])])]),t("van-tab",{attrs:{title:e.$t("login[1]")}},[t("ul",{staticClass:"register_form"},[t("li",{staticClass:"username"},[t("label",{class:{movename:e.registerusername}},[e._v(e._s(e.$t("login[2]")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"button",attrs:{type:"text"},domProps:{value:e.username},on:{focus:e.usernameFocus,blur:e.usernameBlur,input:function(s){s.target.composing||(e.username=s.target.value)}}})]),t("li",{staticClass:"telzong"},[t("div",{staticClass:"tel"},[t("label",{class:{movename:e.registertel}},[e._v(e._s(e.$t("login[7]")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tel,expression:"tel"}],staticClass:"button",attrs:{type:"text"},domProps:{value:e.tel},on:{focus:e.telFocus,blur:e.telBlur,input:function(s){s.target.composing||(e.tel=s.target.value)}}})])]),t("li",{staticClass:"yanzheng"},[t("label",{class:{movename:e.registeryanzheng}},[e._v(e._s(e.$t("login[8]")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.yanzheng,expression:"yanzheng"}],staticClass:"button",attrs:{type:"text"},domProps:{value:e.yanzheng},on:{focus:e.yanzhengFocus,blur:e.yanzhengBlur,input:function(s){s.target.composing||(e.yanzheng=s.target.value)}}}),e.yandisabled?t("span",{staticClass:"yanzheng_button",on:{click:e.getYanzheng}},[e._v(" "+e._s(e.$t("login[8]"))+" ")]):e._e(),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.yandisabled,expression:"!yandisabled"}],staticClass:"count spantimer"},[e._v(e._s(e.count)+" s")])]),t("li",{staticClass:"password"},[t("label",{class:{movename:e.registerpassword}},[e._v(e._s(e.$t("login[3]")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"button",attrs:{type:"password"},domProps:{value:e.password},on:{focus:e.passwordFocus,blur:e.passwordBlur,input:function(s){s.target.composing||(e.password=s.target.value)}}})]),t("li",{staticClass:"confirmpassword"},[t("label",{class:{movename:e.registerconfirmpassword}},[e._v(e._s(e.$t("login[9]")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmpassword,expression:"confirmpassword"}],staticClass:"button",attrs:{type:"password"},domProps:{value:e.confirmpassword},on:{focus:e.confirmPasswordFocus,blur:e.confirmPasswordBlur,input:function(s){s.target.composing||(e.confirmpassword=s.target.value)}}})]),t("li",{staticClass:"email"},[t("label",{class:{movename:e.registeremail}},[e._v(e._s(e.$t("login[10]")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"button",attrs:{type:"text"},domProps:{value:e.email},on:{focus:e.emailFocus,blur:e.emailBlur,input:function(s){s.target.composing||(e.email=s.target.value)}}})]),t("li",{attrs:{id:"registerbutton"}},[t("button",{on:{click:e.submit}},[e._v(" "+e._s(e.$t("login[1]"))+" ")])])])])],1)],1)},n=[],r=t("a34a"),o=t.n(r),i=t("def6"),l=t("4328"),c=t.n(l),u=t("1c46"),m=t.n(u),d=t("88df");function h(e,s,t,a,n,r,o){try{var i=e[r](o),l=i.value}catch(c){return void t(c)}i.done?s(l):Promise.resolve(l).then(a,n)}function g(e){return function(){var s=this,t=arguments;return new Promise((function(a,n){var r=e.apply(s,t);function o(e){h(r,a,n,o,i,"next",e)}function i(e){h(r,a,n,o,i,"throw",e)}o(void 0)}))}}var p={inject:["reload"],name:"login",data:function(){return{active:0,username1:"",password1:"",loginusername:!1,loginpassword:!1,username:"",tel:"",yanzheng:"",password:"",confirmpassword:"",email:"",registerusername:!1,registertel:!1,registeryanzheng:!1,registerpassword:!1,registerconfirmpassword:!1,registeremail:!1,isChecked:!0,count:"",yandisabled:!0}},components:{slider:d["default"]},created:function(){this.$store.commit("showSliderFalse")},mounted:function(){this.getCookie(),""!==this.username1&&(this.loginusername=!0),""!==this.password1&&(this.loginpassword=!0)},methods:{forgetPassword:function(){this.$router.push({path:"/forgetpassword"})},usernameFocus1:function(){this.loginusername=!0},usernameBlur1:function(){""==this.username1?(this.loginusername=!1,"cn"==this.$i18n.locale&&this.$message.error("用户名不能为空"),"en"==this.$i18n.locale&&this.$message.error("Username can not be empty")):this.loginusername=!0},passwordFocus1:function(){this.loginpassword=!0},passwordBlur1:function(){""==this.password1?(this.loginpassword=!1,"cn"==this.$i18n.locale&&this.$message.error("密码不能为空"),"en"==this.$i18n.locale&&this.$message.error("password can not be blank")):this.loginpassword=!0},usernameFocus:function(){this.registerusername=!0},usernameBlur:function(){""==this.username?(this.registerusername=!1,this.$message({showClose:!0,type:"error",message:"用户名不能为空",duration:1e3})):this.registerusername=!0},telFocus:function(){this.registertel=!0},telBlur:function(){if(""==this.tel)this.registertel=!1,"cn"==this.$i18n.locale&&(this.$message.error("手机号码不能为空"),this.tel=""),"en"==this.$i18n.locale&&(this.$message.error("Phone number can not be blank"),this.tel="");else{var e=/^\d/;if(e.test(this.tel)){this.registertel=!0,this.phonecountry=this.tel+"uenc_web";var s=m.a.createHash("md5");s.update(this.phonecountry);var t=s.digest("hex");this.phonejiami=t}else"cn"==this.$i18n.locale&&(this.$message.error("请输入正确的手机号码"),this.tel=""),"en"==this.$i18n.locale&&(this.$message.error("Please enter the correct phone number"),this.tel="")}},getcountry:function(){this.phoneleave=this.countrySelected.replace(/\+/,"")+"+"},yanzhengFocus:function(){this.registeryanzheng=!0},yanzhengBlur:function(){""==this.yanzheng?this.registeryanzheng=!1:this.registeryanzheng=!0},getYanzheng:function(){var e=this;return g(o.a.mark((function s(){return o.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:""!==e.tel?e.sendYanzhengMa():""==e.tel&&("en"==e.$i18n.locale?e.$message.error("Please enter your phone"):"cn"==e.$i18n.locale&&e.$message.error("请输入手机号码"));case 1:case"end":return s.stop()}}),s)})))()},sendYanzhengMa:function(){var e=this;return g(o.a.mark((function s(){var t;return o.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t=e,s.next=3,t.$http.post("".concat(i["a"])+"/weimioffice/login/getPhoneCode",c.a.stringify({phone:t.tel,type:0,accessToken:t.phonejiami})).then((function(s){if(200==s.data.code){var t=60;e.timer||(e.count=t,e.showtimer=!1,e.timer=setInterval((function(){e.count>0&&e.count<=t?(e.count--,e.yandisabled=!1):(e.yandisabled=!0,clearInterval(e.timer),e.timer=null)}),1e3))}else{if(400!=s.data.code)return!1;e.yy=s.data.result,e.$message({message:e.yy,type:"error"})}})).catch((function(e){console.log(e,"验证码")}));case 3:case"end":return s.stop()}}),s)})))()},passwordFocus:function(){this.registerpassword=!0},passwordBlur:function(){if(""==this.password)this.registerpassword=!1,"cn"==this.$i18n.locale&&this.$message.error("密码不能为空"),"en"==this.$i18n.locale&&this.$message.error("password can not be blank");else{var e=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/;e.test(this.password)?this.registerpassword=!0:("cn"==this.$i18n.locale&&(this.$message.error("请输入6-16英文加数字"),this.password=""),"en"==this.$i18n.locale&&(this.$message.error("Please enter 6-16 English plus numbers"),this.password=""))}},confirmPasswordFocus:function(){this.registerconfirmpassword=!0},confirmPasswordBlur:function(){""==this.confirmpassword?this.registerconfirmpassword=!1:this.password!==this.confirmpassword?("cn"==this.$i18n.locale&&(this.$message.error("两次密码输入不一致"),this.confirmpassword=""),"en"==this.$i18n.locale&&(this.$message.error("Two password entries are inconsistent"),this.confirmpassword="")):this.registerconfirmpassword=!0},setCookie:function(e,s,t){var a=new Date;a.setTime(a.getTime()+864e5*t),window.document.cookie="username="+e+";path=/;expires="+a.toGMTString(),window.document.cookie="password="+s+";path=/;expires="+a.toGMTString()},getCookie:function(){if(document.cookie.length>0){this.showpassword1=!0,this.showusername1=!0;for(var e=document.cookie.split("; "),s=0;s<e.length;s++){var t=e[s].split("=");"username"==t[0]?this.username1=t[1]:"password"==t[0]&&(this.password1=t[1])}}},clearCookie:function(){this.setCookie("","",-1)},getuserid:function(){""===localStorage.getItem("token")?this.$message.error("请先登录"):this.$http.post("".concat(i["a"])+"/weimioffice/login/getBindInfo",c.a.stringify({userId:localStorage.getItem("userId")}),{headers:{token:localStorage.getItem("token")}}).then((function(e){localStorage.setItem("address",e.data.result[0]),localStorage.setItem("number",e.data.result[1])}))},submit1:function(){var e=this;return g(o.a.mark((function s(){return o.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:""==e.username1||""==e.password1?("cn"==e.$i18n.locale&&e.$message.error("请填写完整信息"),"en"==e.$i18n.locale&&e.$message.error("Please fill in the complete information")):e.$http.post("".concat(i["a"])+"/weimioffice/login/userLogin",c.a.stringify({username:e.username1,password:e.password1})).then((function(s){console.log(s),200==s.data.code?(localStorage.setItem("loginState",new Date),localStorage.setItem("login",!0),"cn"==e.$i18n.locale&&e.$toast.success({duration:1e3,forbidClick:!0,loadingType:"spinner",message:"登陆成功",position:top}),"en"==e.$i18n.locale&&e.$toast.success({duration:1e3,forbidClick:!0,loadingType:"spinner",message:"login successful",position:top}),e.$store.commit("login"),localStorage.setItem("username",s.data.result.username),localStorage.setItem("userId",s.data.result.userId),localStorage.setItem("token",s.data.result.token),localStorage.setItem("deptId",s.data.result.deptId),localStorage.setItem("walletAddress",s.data.result.walletAddress),e.$store.state.userId=s.data.result.userId,e.getuserid(),e.isChecked?(localStorage.setItem("isChecked",!0),e.setCookie(e.username1,e.password1,30)):(localStorage.setItem("isChecked",!1),e.clearCookie()),e.$router.push({path:"/index"})):e.$message.error(s.data.result)}));case 1:case"end":return s.stop()}}),s)})))()},submit:function(){var e=this;return g(o.a.mark((function s(){return o.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:""==e.username||""==e.tel||""==e.yanzheng||""==e.password||""==e.confirmpassword||""==e.email?("cn"==e.$i18n.locale&&e.$message.error("请填写完整信息"),"en"==e.$i18n.locale&&e.$message.error("Please fill in the complete information")):e.$http.post("".concat(i["a"])+"/weimioffice/login/userRegister",c.a.stringify({username:e.username,password:e.password,email:e.email,phone:e.tel,phoneCode:e.yanzheng})).then((function(s){200==s.data.code?("cn"==e.$i18n.locale&&e.$message.success("恭喜你注册成功"),"en"==e.$i18n.locale&&e.$message.success("Congratulations on your successful registration"),e.username="",e.tel="",e.password="",e.confirmpassword="",e.email="",e.yanzheng="",e.yandisabled=!0):e.$message.error(s.data.result)}));case 1:case"end":return s.stop()}}),s)})))()},emailFocus:function(){this.registeremail=!0,window.scrollTo(0,0)},emailBlur:function(){if(""==this.email)this.registeremail=!1,"cn"==this.$i18n.locale&&this.$message.error("邮箱不能为空"),"en"==this.$i18n.locale&&this.$message.error("Email can not be blank");else{var e=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;e.test(this.email)?this.registeremail=!0:("cn"==this.$i18n.locale&&(this.$message.error("请输入正确的邮箱格式"),this.email="",this.showemail=!1),"en"==this.$i18n.locale&&(this.$message.error("Please enter the correct email format"),this.email="",this.showemail=!1))}}}},w=p,f=(t("7657"),t("2877")),v=Object(f["a"])(w,a,n,!1,null,null,null);s["default"]=v.exports},7657:function(e,s,t){"use strict";var a=t("ed58"),n=t.n(a);n.a},def6:function(e,s,t){"use strict";t.d(s,"a",(function(){return a}));var a="http://192.168.1.194:8003"},ed58:function(e,s,t){}}]);